import{j as e,r as l,u as w,f as B,a as $,b as F,H as P,L as D,T as H,M as E,S as L,F as M}from"./index-BpsviVg6.js";const q="_checkoutContainer_mi9oc_1",O="_goBack_mi9oc_27",V="_productInfo_mi9oc_55",Y="_payment_mi9oc_83",z="_backBtn_mi9oc_105",R="_paymentInner_mi9oc_133",A="_walletSelect_mi9oc_163",G="_buyButton_mi9oc_209",J="_disabled_mi9oc_241",K="_copiedText_mi9oc_343",s={checkoutContainer:q,goBack:O,productInfo:V,payment:Y,backBtn:z,paymentInner:R,walletSelect:A,buyButton:G,disabled:J,copiedText:K},Q="_buyerInfoContainer_g8srd_1",U="_InfoDiv_g8srd_11",X="_osSelect_g8srd_45",x={buyerInfoContainer:Q,InfoDiv:U,osSelect:X},Z=({buyerInfo:o,setBuyerInfo:d,os:t,setOs:i})=>e.jsxs("form",{className:x.buyerInfoContainer,children:[e.jsxs("div",{className:x.InfoDiv,children:[e.jsx("label",{children:"Buyer Name:"}),e.jsx("input",{type:"text",value:o.name,onChange:c=>d({...o,name:c.target.value}),required:!0})]}),e.jsxs("div",{className:x.InfoDiv,children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"text",value:o.email,required:!0,onChange:c=>d({...o,email:c.target.value})})]}),e.jsxs("div",{className:x.InfoDiv,children:[e.jsx("label",{children:"Select your operating system:"}),e.jsxs("select",{value:t,onChange:c=>i(c.target.value),required:!0,className:x.osSelect,children:[e.jsx("option",{value:"Windows",children:"Windows"}),e.jsx("option",{value:"MacOS",children:"MacOS"}),e.jsx("option",{value:"Linux",children:"Linux"})]})]})]}),W="_verifyContainer_12ekl_1",ee="_verifyHeader_12ekl_9",ne="_buyerName_12ekl_29",se="_paymentText_12ekl_43",te="_amount_12ekl_53",ae="_productName_12ekl_63",oe="_warning_12ekl_73",ie="_loading_12ekl_85",ce="_toCopiedText_12ekl_91",re="_countdownText_12ekl_109",le="_timer_12ekl_119",n={verifyContainer:W,verifyHeader:ee,buyerName:ne,paymentText:se,amount:te,productName:ae,warning:oe,loading:ie,toCopiedText:ce,countdownText:re,timer:le},de="_loaderContainer_1bx5a_3",me="_loader_1bx5a_3",S={loaderContainer:de,loader:me},ue=()=>e.jsx("div",{className:S.loaderContainer,children:e.jsx("div",{className:S.loader})}),xe=({buyerInfo:o,product:d,id:t,selectedWallet:i,copied:c,handleCopy:y})=>{const[_,m]=l.useState(360),h=w();return l.useEffect(()=>{m(_);const p=setInterval(()=>{m(j=>j<=1?(clearInterval(p),h(`/product/${t}/check-out/verify`),0):j-1)},1e3);return()=>clearInterval(p)},[h,t]),e.jsx(e.Fragment,{children:e.jsx("main",{className:n.verifyContainer,children:e.jsxs("div",{className:n.verifyHeader,children:[e.jsx("h1",{className:n.buyerName,children:o.name}),e.jsxs("p",{className:n.paymentText,children:["You are paying ",e.jsxs("span",{className:n.amount,children:["$",d.price]})," ","for a new ",e.jsx("span",{className:n.productName,children:d.name})]}),e.jsx("p",{className:n.warning,children:"⚠️ Please do not refresh this page."}),e.jsx("div",{className:n.loading,children:e.jsx(ue,{})}),e.jsxs("p",{className:n.toCopiedText,onClick:y,children:[i==null?void 0:i.chain,e.jsx("br",{}),i==null?void 0:i.address,e.jsx("br",{}),"📋"]}),e.jsxs("p",{className:n.countdownText,children:["⏳ Payment expires in"," ",e.jsx("span",{className:n.timer,children:B(_)})]}),e.jsx("p",{className:n.countdownText,children:e.jsx("span",{className:n.timer,children:"Please, complete your payment within the time limit."})}),c&&e.jsx("p",{style:{color:"green",fontWeight:"bold"},children:"Copied!"})]})})})},he=()=>{const{wallets:o,products:d}=$(),[t,i]=l.useState({name:"",email:""}),[c,y]=l.useState(o[0].chain),[_,m]=l.useState(!1),[h,p]=l.useState("Windows"),[j,T]=l.useState(!1),[f,g]=l.useState(!1),[v,N]=l.useState(!1),{id:C}=F(),I=w(),u=d.find(r=>r.id===Number(C));u||I("/");const a=o.find(r=>r.chain===c),b=()=>{a!=null&&a.address&&(navigator.clipboard.writeText(a.address),N(!0),setTimeout(()=>N(!1),2e3))},k=t.name===""||t.name.length<2||t.email===""||!t.email.includes("@");return e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsxs("main",{children:[e.jsx(D,{to:`/product/${u.id}`,className:s.goBack,children:"Back"}),j?e.jsx(xe,{id:C,copied:v,product:u,buyerInfo:t,handleCopy:b,selectedWallet:a}):e.jsxs("div",{className:s.checkoutContainer,children:[e.jsx("div",{className:s.productInfo,children:e.jsx("img",{src:`${"/sqr400-official".replace(/\/?$/,"/")}images/${u.image}`,alt:u.name,loading:"lazy"})}),e.jsxs("div",{className:s.payment,children:[f&&e.jsx("button",{onClick:()=>g(!1),className:s.backBtn,children:"Back"}),e.jsxs("div",{className:s.paymentInner,children:[f?e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"walletSelect",children:"Select Payment Method:"}),e.jsx("select",{id:"walletSelect",className:s.walletSelect,value:c,onChange:r=>y(r.target.value),children:o.map(r=>e.jsx("option",{value:r.chain,children:r.chain},r.chain))}),e.jsxs("p",{children:["Selected Wallet: ",a==null?void 0:a.chain]}),e.jsxs("p",{className:s.copiedText,onClick:b,children:[a==null?void 0:a.address,e.jsx("br",{}),"📋"]}),v&&e.jsx("p",{style:{color:"green",fontWeight:"bold"},children:"Copied!"})]}):e.jsx(Z,{buyerInfo:t,setBuyerInfo:i,os:h,setOs:p}),f?e.jsx("button",{className:s.buyButton,onClick:()=>T(!0),children:"Proceed"}):e.jsx("button",{className:`${k?`${s.buyButton} ${s.disabled}`:s.buyButton}`,onClick:()=>{k?(m(!0),setTimeout(()=>m(!1),5e3)):g(!0)},children:"Next"}),_&&e.jsx(H,{message:"You need to complete the form!",type:"warning"})]})]})]})]}),e.jsx(E,{}),e.jsx(L,{}),e.jsx(M,{})]})};export{he as default};
